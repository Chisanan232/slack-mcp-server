---
id: mcp-server-cli-reference
title: CLI Reference
sidebar_position: 4
---

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
```

# MCP Server CLI Reference

The Slack MCP Server provides a comprehensive command-line interface for starting and configuring the server. This reference covers all available CLI options, usage patterns, and examples.

## Basic Usage

The MCP server can be started using multiple execution methods:

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  # After installation via pip/uv/poetry
  slack-mcp-server [OPTIONS]
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  # Using Python directly
  python -m slack_mcp.mcp [OPTIONS]
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  # Using Poetry in development
  poetry run slack-mcp-server [OPTIONS]
  ```

  Or use poetry to run the module directly:

  ```bash
  poetry run python -m slack_mcp.mcp [OPTIONS]
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  # Using UV package manager
  uv run slack-mcp-server [OPTIONS]
  ```

  Or use uv to run the module directly:

  ```bash
  uv run python -m slack_mcp.mcp [OPTIONS]
  ```
  </TabItem>
</Tabs>

## Command Options

### Transport Options

#### `--transport`
**Type**: `Choice`  
**Choices**: `stdio`, `sse`, `streamable-http`  
**Default**: `stdio`  
**Description**: Specifies the transport protocol for MCP communication.

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  slack-mcp-server --transport stdio
  slack-mcp-server --transport sse
  slack-mcp-server --transport streamable-http
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  python -m slack_mcp.mcp --transport stdio
  python -m slack_mcp.mcp --transport sse
  python -m slack_mcp.mcp --transport streamable-http
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  poetry run slack-mcp-server --transport sse
  poetry run python -m slack_mcp.mcp --transport sse
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  uv run slack-mcp-server --transport sse
  uv run python -m slack_mcp.mcp --transport sse
  ```
  </TabItem>
</Tabs>

**Transport Details**:
- **stdio**: Communicates via standard input/output streams. Best for desktop applications and CLI integrations.
- **sse**: Server-Sent Events over HTTP. Ideal for web applications and real-time streaming.
- **streamable-http**: HTTP-based streaming protocol. Suitable for REST API integrations and microservices.

### Network Options

#### `--host`
**Type**: `String`  
**Default**: `127.0.0.1`  
**Description**: Host interface to bind the server (HTTP transports only).

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  slack-mcp-server --transport sse --host 127.0.0.1
  slack-mcp-server --transport sse --host 0.0.0.0
  slack-mcp-server --transport sse --host 192.168.1.100
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  python -m slack_mcp.mcp --transport sse --host 127.0.0.1
  python -m slack_mcp.mcp --transport sse --host 0.0.0.0
  python -m slack_mcp.mcp --transport sse --host 192.168.1.100
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  poetry run slack-mcp-server --transport sse --host 0.0.0.0
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  uv run slack-mcp-server --transport sse --host 0.0.0.0
  ```
  </TabItem>
</Tabs>

**Security Note**: Use `0.0.0.0` only in containerized environments or when you need external access. For local development, prefer `127.0.0.1`.

#### `--port`
**Type**: `Integer`  
**Default**: `3001`  
**Range**: `1-65535`  
**Description**: Port number for HTTP transports.

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  slack-mcp-server --transport sse --port 3001
  slack-mcp-server --transport sse --port 8080
  slack-mcp-server --transport sse --port 0  # Auto-assign available port
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  python -m slack_mcp.mcp --transport sse --port 3001
  python -m slack_mcp.mcp --transport sse --port 8080
  python -m slack_mcp.mcp --transport sse --port 0  # Auto-assign available port
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  poetry run slack-mcp-server --transport sse --port 8080
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  uv run slack-mcp-server --transport sse --port 8080
  ```
  </TabItem>
</Tabs>

#### `--mount-path`
**Type**: `String`  
**Default**: `/mcp`  
**Description**: Mount path for SSE transport endpoints.

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  slack-mcp-server --transport sse --mount-path /mcp
  slack-mcp-server --transport sse --mount-path /api/v1/mcp
  slack-mcp-server --transport sse --mount-path /
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  python -m slack_mcp.mcp --transport sse --mount-path /mcp
  python -m slack_mcp.mcp --transport sse --mount-path /api/v1/mcp
  python -m slack_mcp.mcp --transport sse --mount-path /
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  poetry run slack-mcp-server --transport sse --mount-path /api/v1/mcp
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  uv run slack-mcp-server --transport sse --mount-path /api/v1/mcp
  ```
  </TabItem>
</Tabs>

### Logging Options

#### `--log-level`
**Type**: `String`  
**Choices**: `DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL`  
**Default**: `INFO`  
**Description**: Sets the logging verbosity level.

<Tabs>
  <TabItem value="console" label="Console Script" default>
  ```bash
  slack-mcp-server --log-level DEBUG
  slack-mcp-server --log-level INFO
  slack-mcp-server --log-level ERROR
  ```
  </TabItem>
  <TabItem value="python" label="Python Module">
  ```bash
  python -m slack_mcp.mcp --log-level DEBUG
  python -m slack_mcp.mcp --log-level INFO
  python -m slack_mcp.mcp --log-level ERROR
  ```
  </TabItem>
  <TabItem value="poetry" label="Poetry">
  ```bash
  poetry run slack-mcp-server --log-level DEBUG
  ```
  </TabItem>
  <TabItem value="uv" label="UV">
  ```bash
  uv run slack-mcp-server --log-level DEBUG
  ```
  </TabItem>
</Tabs>

**Log Level Details**:
- **DEBUG**: Detailed diagnostic information. Use for development and troubleshooting.
- **INFO**: General informational messages. Good for production monitoring.
- **WARNING**: Warning messages for potentially problematic situations.
- **ERROR**: Error messages for serious problems.
- **CRITICAL**: Critical error messages for fatal problems.

### Connection Options

#### `--timeout`
**Type**: `Integer`  
**Default**: `30`  
**Unit**: `Seconds`  
**Description**: Request timeout for Slack API calls.

```bash
# Default timeout (30 seconds)
python -m slack_mcp.mcp --timeout 30

# Shorter timeout for fast networks
python -m slack_mcp.mcp --timeout 15

# Longer timeout for slow networks
python -m slack_mcp.mcp --timeout 60
```

#### `--max-retries`
**Type**: `Integer`  
**Default**: `3`  
**Range**: `0-10`  
**Description**: Maximum number of retry attempts for failed requests.

```bash
# Default retries
python -m slack_mcp.mcp --max-retries 3

# No retries (fail fast)
python -m slack_mcp.mcp --max-retries 0

# More retries for unreliable networks
python -m slack_mcp.mcp --max-retries 5
```

## Usage Examples

### Development Environment

```bash
# Method 1: Console Script (Recommended for development)
slack-mcp-server \
  --transport stdio \
  --log-level DEBUG

slack-mcp-server \
  --transport sse \
  --host 127.0.0.1 \
  --port 3001 \
  --log-level DEBUG

# Method 2: Python Module
python -m slack_mcp.mcp \
  --transport stdio \
  --log-level DEBUG

# Method 3: Poetry (Development workflow)
poetry run slack-mcp-server \
  --transport sse \
  --host 127.0.0.1 \
  --port 3001 \
  --log-level DEBUG

# Method 4: UV (Modern Python package management)
uv run slack-mcp-server \
  --transport sse \
  --host 127.0.0.1 \
  --port 3001 \
  --log-level DEBUG
```

### Production Environment

```bash
# Method 1: Console Script (Recommended for production deployments)
slack-mcp-server \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO

slack-mcp-server \
  --transport streamable-http \
  --host 0.0.0.0 \
  --port 8080 \
  --log-level WARNING

# Method 2: Python Module (Alternative)
python -m slack_mcp.mcp \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO

# Method 3: Poetry (Development server in production-like mode)
poetry run slack-mcp-server \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO

# Method 4: UV (Production deployment with UV)
uv run slack-mcp-server \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO
```

### Testing Configurations

```bash
# Method 1: Console Script (Quick testing)
slack-mcp-server --log-level DEBUG
slack-mcp-server \
  --transport sse \
  --port 0 \
  --log-level DEBUG
slack-mcp-server \
  --transport sse \
  --mount-path /test/mcp \
  --log-level DEBUG

# Method 2: Python Module (Direct execution)
python -m slack_mcp.mcp --log-level DEBUG
python -m slack_mcp.mcp \
  --transport sse \
  --port 0 \
  --log-level DEBUG

# Method 3: Poetry (Development testing)
poetry run slack-mcp-server --log-level DEBUG
poetry run slack-mcp-server \
  --transport sse \
  --port 0 \
  --log-level DEBUG

# Method 4: UV (Modern testing workflow)
uv run slack-mcp-server --log-level DEBUG
uv run slack-mcp-server \
  --transport sse \
  --port 0 \
  --log-level DEBUG
```

### Container Deployments

```bash
# Docker container configuration (Method 1: Console Script)
slack-mcp-server \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO

# Docker container configuration (Method 2: Python Module)
python -m slack_mcp.mcp \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO

# Kubernetes pod configuration (Method 1: Console Script)
slack-mcp-server \
  --transport streamable-http \
  --host 0.0.0.0 \
  --port ${PORT:-3001} \
  --log-level ${LOG_LEVEL:-INFO}

# Kubernetes pod configuration (Method 2: Python Module)
python -m slack_mcp.mcp \
  --transport streamable-http \
  --host 0.0.0.0 \
  --port ${PORT:-3001} \
  --log-level ${LOG_LEVEL:-INFO}

# UV in container (Method 4: Modern approach)
uv run slack-mcp-server \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO
```

## Environment Variable Override

CLI options can be overridden by environment variables:

| CLI Option | Environment Variable | Example |
|------------|---------------------|---------|
| `--transport` | `MCP_TRANSPORT` | `export MCP_TRANSPORT=sse` |
| `--host` | `MCP_HOST` | `export MCP_HOST=0.0.0.0` |
| `--port` | `MCP_PORT` | `export MCP_PORT=8080` |
| `--mount-path` | `MCP_MOUNT_PATH` | `export MCP_MOUNT_PATH=/api` |
| `--log-level` | `LOG_LEVEL` | `export LOG_LEVEL=DEBUG` |
| `--timeout` | `MCP_TIMEOUT` | `export MCP_TIMEOUT=60` |
| `--max-retries` | `MCP_MAX_RETRIES` | `export MCP_MAX_RETRIES=5` |

**Precedence**: CLI arguments override environment variables, which override defaults.

```bash
# Environment variable with CLI override
export MCP_TRANSPORT=sse
export MCP_PORT=8080

# This will use stdio transport and port 3001 (CLI overrides)
python -m slack_mcp.mcp --transport stdio --port 3001
```

## Configuration Scripts

### Startup Script Examples

Create reusable startup scripts for different environments:

#### Development Script (`start-dev.sh`)

```bash
#!/bin/bash
# start-dev.sh

export SLACK_BOT_TOKEN="xoxb-your-dev-token"
export MCP_TRANSPORT="stdio"
export LOG_LEVEL="DEBUG"

echo "Starting MCP server in development mode..."
python -m slack_mcp.mcp \
  --log-level DEBUG \
  --timeout 15 \
  --max-retries 1
```

#### Production Script (`start-prod.sh`)

```bash
#!/bin/bash
# start-prod.sh

# Load environment variables
source .env.production

echo "Starting MCP server in production mode..."
python -m slack_mcp.mcp \
  --transport ${MCP_TRANSPORT:-sse} \
  --host ${MCP_HOST:-0.0.0.0} \
  --port ${MCP_PORT:-3001} \
  --log-level ${LOG_LEVEL:-INFO} \
  --timeout ${MCP_TIMEOUT:-60} \
  --max-retries ${MCP_MAX_RETRIES:-5}
```

#### Testing Script (`start-test.sh`)

```bash
#!/bin/bash
# start-test.sh

export SLACK_BOT_TOKEN="xoxb-test-token"

echo "Starting MCP server in test mode..."
python -m slack_mcp.mcp \
  --transport sse \
  --port 0 \
  --log-level DEBUG \
  --timeout 10 \
  --max-retries 0
```

### Process Management

#### Using systemd

Create a systemd service (`/etc/systemd/system/mcp-server.service`):

```ini
[Unit]
Description=Slack MCP Server
After=network.target

[Service]
Type=simple
User=mcp
WorkingDirectory=/opt/slack-mcp-server
EnvironmentFile=/opt/slack-mcp-server/.env.production
ExecStart=/opt/slack-mcp-server/venv/bin/python -m slack_mcp.mcp \
  --transport sse \
  --host 0.0.0.0 \
  --port 3001 \
  --log-level INFO
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

#### Using supervisor

Create supervisor configuration (`/etc/supervisor/conf.d/mcp-server.conf`):

```ini
[program:mcp-server]
command=/opt/slack-mcp-server/venv/bin/python -m slack_mcp.mcp --transport sse --host 0.0.0.0 --port 3001
directory=/opt/slack-mcp-server
environment=SLACK_BOT_TOKEN="xoxb-token",MCP_TRANSPORT="sse",LOG_LEVEL="INFO"
user=mcp
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/mcp-server.log
```

## Help and Version Information

### Display Help

```bash
# Show all available options
python -m slack_mcp.mcp --help

# Show version information
python -m slack_mcp.mcp --version
```

### Built-in Validation

The CLI performs automatic validation:

```bash
# Invalid transport (will show error)
python -m slack_mcp.mcp --transport invalid

# Invalid port range (will show error)  
python -m slack_mcp.mcp --transport sse --port 70000

# Invalid log level (will show error)
python -m slack_mcp.mcp --log-level INVALID
```

## Troubleshooting CLI Issues

### Common Problems

#### 1. Permission Denied

```bash
# Error: Permission denied on port 80
python -m slack_mcp.mcp --transport sse --port 80

# Solution: Use non-privileged port or run with sudo
python -m slack_mcp.mcp --transport sse --port 8080
```

#### 2. Port Already in Use

```bash
# Error: Address already in use
python -m slack_mcp.mcp --transport sse --port 3001

# Solution: Find and kill process or use different port
lsof -ti:3001 | xargs kill -9
# OR
python -m slack_mcp.mcp --transport sse --port 3002
```

#### 3. Invalid Configuration

```bash
# Error: Invalid transport specified
python -m slack_mcp.mcp --transport http

# Solution: Use valid transport option
python -m slack_mcp.mcp --transport sse
```

### Debug Mode

Enable maximum verbosity for troubleshooting:

```bash
# Maximum debug output
python -m slack_mcp.mcp \
  --log-level DEBUG \
  --timeout 5 \
  --max-retries 0
```

### Configuration Verification

```bash
# Test configuration without starting server
python -c "
import sys
sys.argv = ['mcp', '--transport', 'sse', '--help']
try:
    from slack_mcp.mcp.cli import main
    print('✅ CLI configuration is valid')
except Exception as e:
    print(f'❌ CLI configuration error: {e}')
"
```

For more detailed configuration options, see [MCP Server Configuration](./configuration.mdx).
For deployment examples using these CLI options, see [MCP Server Deployment](./deployment.mdx).
