# =============================================================================
# Slack MCP Server Environment Configuration
# =============================================================================
# This file contains all environment variables used by the Slack MCP Server.
# Copy this file to .env and fill in your actual values.
#
# IMPORTANT: Environment Priority Order
# ─────────────────────────────────────
# When running the server, secrets are loaded in this priority order:
#   1. .env file (HIGHEST PRIORITY - values here override everything)
#   2. CLI arguments (--slack-token) - used as fallback if not in .env
#   3. Environment variables already set - lowest priority
#
# This means values in your .env file will ALWAYS take precedence over
# CLI arguments, making it easier to manage different environments.
# =============================================================================

# ─────────────────────────────────────────────────────────────────────────────
# Required: Slack Authentication
# ─────────────────────────────────────────────────────────────────────────────
# Your Slack bot token (required for both MCP and webhook servers)
# Format: xoxb-... (bot token) or xoxp-... (user token)
# Get it from: https://api.slack.com/apps → Your App → OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# ─────────────────────────────────────────────────────────────────────────────
# Optional: Additional Slack Credentials
# ─────────────────────────────────────────────────────────────────────────────
# Your Slack bot's user ID (optional, for advanced features)
# Format: B1234567890
# Get it from: https://api.slack.com/apps → Your App → Basic Information
SLACK_BOT_ID=<your-slack-bot-ID>

# Slack user token (optional, for user-level operations)
# Format: xoxp-...
# Get it from: https://api.slack.com/apps → Your App → OAuth & Permissions
SLACK_USER_TOKEN=xoxp-your-slack-user-token

# Slack signing secret (optional, for webhook request verification)
# Get it from: https://api.slack.com/apps → Your App → Basic Information
SLACK_SIGNING_SECRET=<your-slack-signing-secret>

# ─────────────────────────────────────────────────────────────────────────────
# Optional: Message Queue Backend Configuration
# ─────────────────────────────────────────────────────────────────────────────
# Queue backend type
# Options: memory (default), redis, kafka, or custom backend name
# - memory: In-memory queue (good for development, not persistent)
# - redis: Redis-based queue (recommended for production)
# - kafka: Apache Kafka (for high-throughput scenarios)
QUEUE_BACKEND=memory

# Redis backend settings (only used when QUEUE_BACKEND=redis)
# Format: redis://[username:password@]host:port/database
# Examples:
#   - redis://localhost:6379/0
#   - redis://user:pass@redis-server:6379/1
REDIS_URL=redis://localhost:6379/0

# Kafka backend settings (only used when QUEUE_BACKEND=kafka)
# Format: broker1:port,broker2:port,broker3:port
# Examples:
#   - broker:9092
#   - kafka-1:9092,kafka-2:9092,kafka-3:9092
KAFKA_BOOTSTRAP=broker:9092

# ─────────────────────────────────────────────────────────────────────────────
# Optional: Web Server CORS Configuration
# ─────────────────────────────────────────────────────────────────────────────
# CORS (Cross-Origin Resource Sharing) settings for the web server
# These settings control which origins can access the webhook server

# Allowed origins for CORS requests
# Format: comma-separated list of origins or "*" for all origins
# Examples:
#   - "*" (default) - Allow all origins (development)
#   - "https://yourdomain.com" - Allow specific domain
#   - "https://app.yourdomain.com,https://admin.yourdomain.com" - Allow multiple domains
#   - "http://localhost:3000,http://localhost:8080" - Allow local development
CORS_ALLOW_ORIGINS="*"

# Allow credentials in CORS requests (cookies, authorization headers, etc.)
# Set to "true" to allow credentials, "false" to disallow
# Default: true
CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods for CORS requests
# Format: comma-separated list of HTTP methods or "*" for all methods
# Examples:
#   - "*" (default) - Allow all methods
#   - "GET,POST,PUT,DELETE" - Allow specific methods
#   - "GET,POST" - Allow only read methods
CORS_ALLOW_METHODS="*"

# Allowed HTTP headers for CORS requests
# Format: comma-separated list of headers or "*" for all headers
# Examples:
#   - "*" (default) - Allow all headers
#   - "Content-Type,Authorization" - Allow specific headers
#   - "Content-Type,Authorization,X-Requested-With" - Allow common headers
CORS_ALLOW_HEADERS="*"

# ─────────────────────────────────────────────────────────────────────────────
# Notes
# ─────────────────────────────────────────────────────────────────────────────
# 1. Never commit this file with real credentials to version control
# 2. Add .env to your .gitignore file
# 3. Use different .env files for different environments:
#    - .env.development (for local development)
#    - .env.production (for production deployment)
#    - test/.env.test (for testing - see test/.env.test.example)
# 4. Set appropriate file permissions: chmod 600 .env
# 5. For Docker deployments, you can mount this file or pass variables directly
#
# For testing configuration, see: test/.env.test.example
# For more information, see:
# https://chisanan232.github.io/slack-mcp-server/document/server-references/environment-configuration
# =============================================================================
